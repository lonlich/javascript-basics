<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Rock Paper Scissors</title>
    <style>
      p {
        margin: 0.5em 0;
      }
      * {
        box-sizing: border-box;
      }
      body {
        background-color: black;
        color: white;
      }
    </style>
    <link rel="stylesheet" href="../styles.css" />
  </head>
  <body>
    <h1>JavaScript Arrays</h1>
    <h2>Nested JavaScript Objects and Arrays.</h2>

    <p id="demo"></p>

    <script type="module">
      //import utility functions
      import { capitalizeFirstChar } from "./utils.js";

      const club = {
        name: "Real Madrid",
        age: 135,
        squad: {

          defenders: [
            { name: "Carvajal", age: 33 },
            { name: "Rudiger", age: 31 },
            { name: "Militao", age: 25 },
            { name: "Mendy", age: 28 },
          ],

          midfielders: [
            { name: "Tchuameni", age: 25 },
            { name: "Camavinga", age: 22 },
            { name: "Modric", age: 39 },
            { name: "Valverde", age: 25 },
          ],
        },
      };

      const positions = Object.keys(club.squad);
      // код списка будет храниться в строковой переменной html. Формат списка - заголовок с позицией + список игроков на данной позиции
      let html = '';
      let formattedPositionTitle = '';

      positions.forEach((position) => {        

        formattedPositionTitle = capitalizeFirstChar(position); //капитализация первой буквы из key объекта

        //добавление названия позиции в список
        html += `<h2>${formattedPositionTitle}</h2>`;

        //с каждой итерацией содержимое html дополняется новыми данными: заголовком с позицией и списком игроков
        club.squad[position].forEach(player => {
            //console output
            //console.log(`Name: ${player.name}, Age: ${player.age}`);
            
            //добавление списка игроков на конкретной позиции в список
            html += `Name: ${player.name}, Age: ${player.age}</br>`;
        });
      });

      //вывод собранного списка на страницу
      document.getElementById("demo").innerHTML = html;
    </script>
  </body>
</html>
